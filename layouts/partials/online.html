{{ $translation := ( index $.Site.Data.translations $.Site.Params.language ) }}

<script type="application/ld+json">
	{
			"@context": "https://schema.org",
			"@type": "FAQPage",
			"mainEntity": [{
				"@type": "Question",
				"name": "{{ replace $translation.register.online.h2_question1 "%state_name%" .Params.state_name }}",
				"acceptedAnswer": {
					"@type": "Answer",
					"text": "{{ replace $translation.register.online.answer1 "%state_name%" .Params.state_name }}
	<a class='reg-link' href='{{ .Params.more_info_link }}{{ if in .Params.more_info_link "?" }}&{{ end }}?ref={{ $.Site.Params.Referrer_Short_Code }}'>{{ replace $translation.register.online.answer1_link "%state_name%" .Params.state_name }}.</a>"
					}
				},{
					"@type": "Question",
					"name": "{{ replace $translation.register.online.h2_question2 "%state_name%" .Params.state_name }}",
					"acceptedAnswer": {
						"@type": "Answer",
						"text": "{{ replace $translation.register.online.answer2 "%state_name%" .Params.state_name }}{{ replace $translation.register.online.h2_link "%state_name%" .Params.state_name }}
	<a class='reg-link' href='{{ .Params.more_info_link }}{{ if in .Params.more_info_link "?" }}&{{ end }}?ref={{ $.Site.Params.Referrer_Short_Code }}'>{{ replace $translation.register.online.answer2_link "%state_name%" .Params.state_name }}.</a>"
					}
				},{
					"@type": "Question",
					"name": "{{ replace $translation.register.dates.heading "%state_name%" .Params.state_name }}",
					"acceptedAnswer": {
						"@type": "Answer",  
						"text": "
						{{- if .Params.online_deadline -}}
							{{- $translation.register.dates.byonline_deadline -}}
							{{- .Params.online_deadline -}}
							<br><br>
						{{- end -}}
						{{- if .Params.mail_deadline -}}
							{{- $translation.register.dates.bymail_deadline -}}
							{{- $translation.register.dates.bymail_deadline1 -}}
							{{- .Params.mail_deadline -}}
							<br><br>
						{{- end -}}
						{{- if .Params.mail_deadline2 -}}
							{{- $translation.register.dates.bymail_deadline -}}
							{{- $translation.register.dates.bymail_deadline2_1 -}}
							{{- .Params.mail_deadline2 -}}
							<br><br>
						{{- end -}}
						{{- if .Params.ip_deadline -}}
							{{- $translation.register.dates.inperson_deadline -}}
							{{- .Params.ip_deadline -}}
						{{- end -}}
						"
					}
				},{
					"@type": "Question",
					"name": "{{ replace $translation.register.dates.electionday_heading "%state_name%" .Params.state_name }}",
					"acceptedAnswer": {
						"@type": "Answer",
						"text": "{{ $translation.register.dates.electionday }}"
					}
				}]
			}
</script>

<header>
	<h2>
		{{ replace $translation.register.online.h2_question1 "%state_name%" .Params.state_name }}
	</h2>
</header>
<p class="reg-link">
	{{ replace $translation.register.online.answer1 "%state_name%" .Params.state_name }}
	<a href="{{ .Params.registration_link }}{{ if in .Params.registration_link "?" }}&{{ end }}?ref={{ $.Site.Params.Referrer_Short_Code }}">
		{{ replace $translation.register.online.answer1_link "%state_name%" .Params.state_name -}}
		{{ if .Params.registration_link_english_only }}
			{{ $translation.register.english_only -}}
		{{ else if .Params.registration_link_spanish_selection }}
			{{ $translation.register.selecciones_link -}}
		{{ end }}.

	</a>
</p>
<p class="reg-link">

	{{ replace $translation.register.online.answer2 "%state_name%" .Params.state_name }}
	<a href="{{ .Params.more_info_link }}{{ if in .Params.more_info_link "?" }}&{{ end }}?ref={{ $.Site.Params.Referrer_Short_Code }}">
		{{ replace $translation.register.online.answer2_link "%state_name%" .Params.state_name -}}
		{{ if .Params.more_info_link_english_only }}
			{{ $translation.register.english_only -}}
		{{ else if .Params.more_info_link_spanish_selection }}
			{{ $translation.register.selecciones_link -}}
		{{ end }}.
	</a>
</p>
{{ partial "deadlines.html" . }}
